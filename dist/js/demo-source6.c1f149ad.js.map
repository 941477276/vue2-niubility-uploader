{"version":3,"sources":["webpack:///./src/views/usage-demos/CustomFileItemUploadBtn.vue?db49"],"names":[],"mappings":"8GAAA,OAAe","file":"js/demo-source6.c1f149ad.js","sourcesContent":["export default \"<template>\\r\\n  <FileUploader\\r\\n    :request-handler=\\\"requestHandler\\\"\\r\\n    :respond-handler=\\\"respondHandler\\\"\\r\\n    @file-added=\\\"onFileAdded\\\">\\r\\n    <template #file-list-upload-btn=\\\"{file}\\\">\\r\\n      <span>上传 <small>({{ file.name }})</small></span>\\r\\n    </template>\\r\\n    <template #file-list-remove-btn>\\r\\n      <span>删除</span>\\r\\n    </template>\\r\\n  </FileUploader>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport FileUploader from '@/components/uploader/FileUploader.vue'\\r\\n\\r\\nexport default {\\r\\n  name: \\\"CustomFileItemUploadBtn\\\",\\r\\n  components: { FileUploader },\\r\\n  data () {\\r\\n    return {\\r\\n\\r\\n    };\\r\\n  },\\r\\n  methods: {\\r\\n    onFileAdded (file) {\\r\\n      console.log('文件添加:', file);\\r\\n    },\\r\\n    /**\\r\\n     * 请求处理器\\r\\n     * @param fileData\\r\\n     */\\r\\n    requestHandler (fileData) {\\r\\n      console.log('requestHandler', fileData);\\r\\n      let {\\r\\n        file,\\r\\n        isUploadChunk,\\r\\n        chunk,\\r\\n        // id,\\r\\n        chunkIndex,\\r\\n        name,\\r\\n        fileData: chunkFileData\\r\\n      } = fileData;\\r\\n\\r\\n      if (!isUploadChunk) { // 上传单个文件\\r\\n        return {\\r\\n          url: 'http://localhost:3001/upload',\\r\\n          method: 'POST',\\r\\n          data: {\\r\\n            file: file,\\r\\n            name\\r\\n          }\\r\\n        };\\r\\n      }\\r\\n      /* let formData = new FormData();\\r\\n      formData.append('file', chunk);\\r\\n      formData.append('fileName', chunkFileData.file.name);\\r\\n      formData.append('uploadId', chunkFileData.id);\\r\\n      formData.append('chunkIndex', chunkIndex);\\r\\n      formData.append('totalChunks', chunkFileData.chunks);\\r\\n      formData.append('chunkMd5', fileData.extraData.chunkMd5);\\r\\n      return { // 上传分片文件\\r\\n        url: 'http://localhost:3001/upload/chunk',\\r\\n        method: 'POST',\\r\\n        data: formData\\r\\n      } */\\r\\n    },\\r\\n    /**\\r\\n     *  请求响应处理器\\r\\n     * @param fileData\\r\\n     * @returns {Promise<never>}\\r\\n     */\\r\\n    respondHandler (fileData) {\\r\\n      console.log('respondHandler', fileData);\\r\\n    }\\r\\n  }\\r\\n}\\r\\n</script>\\r\\n\";"],"sourceRoot":""}